"0","# define time period using the starting year, either 80 or 98"
"0","#st_yr <- 98"
"0",""
"0","# Set seed for any random calculations"
"0","set.seed(100)"
"0",""
"0","# training stations w/ id vars "
"0",""
"0","#if(st_yr == 98){"
"0","  ###"
"0","  # I ended up adding a few more training gages which is what is going on"
"0","  # in the commented out lines just below here..."
"0","  # old_train_id <- fread("
"0","  #   ""D:/DataWorking/USGS_discharge/train_val_test/yrs_98_12/annual_WY/Ann_WY_train.csv"", "
"0","  #   keepLeadingZeros = TRUE,"
"0","  #   select = ""site_no"""
"0","  #   )"
"0","  # dt_train_ID <- c(unique(old_train_id$site_no), "
"0","  #                  sample(st_cmplt_98_12["
"0","  #                    !st_cmplt_98_12 %chin% old_train_id$site_no"
"0","  #                    ], 44))"
"0","  dt_train_ID <- dt_ID[STAID %chin% st_cmplt_98_12]"
"0","  ### "
"0","  # train_ind <- caret::createDataPartition(dt_ID[STAID %chin% st_cmplt_98_12,"
"0","  #                                              AggEcoregion],"
"0","  #                                     p = 0.75,"
"0","  #                                     list = FALSE)"
"0","  # "
"0","  # dt_train_ID <- dt_ID[train_ind, ]"
"0","  # "
"0","  # other gages not used in "
"0","  # dt_others_in <- dt_ID[STAID %chin% st_cmplt_98_12 &"
"0","  #                         !STAID %chin% dt_train_ID$STAID,"
"0","  #                       AggEcoregion]"
"0","  # "
"0","#} # else if(st_yr == 80){"
"0","#   dt_train_ID <- dt_ID[STAID %chin% st_cmplt_80_94]"
"0","# }"
"0","# other stations w/ id vars - stations not used in training data. (_nit)"
"0","#if(st_yr == 98){"
"0","  #tmp_others <- dt_ID[-train_ind,]"
"0","#} else if(st_yr == 80){"
"0","  tmp_others <- dt_ID[!STAID %chin% st_cmplt_98_12]"
"0","#}"
"0","  "
"0",""
"0","# validation stations not included in training = 60% of all gages not included"
"0","val_ind <- caret::createDataPartition(tmp_others$AggEcoregion,"
"0","                                      p = 0.6,"
"0","                                      list = FALSE)"
"0","dt_val_ID <- tmp_others[val_ind]"
"0",""
"0","# testing stations not included in training"
"0","dt_test_ID <- tmp_others[!STAID %chin% dt_val_ID$STAID]"
"0",""
"0","# Plot the distribution between ecoregions to ensure relatively consistent "
"0","# representation between the three subsets of data"
"0","cat(""Data partitioning by ecoregion:"")"
"1","Data partitioning by ecoregion:"
"0","par(mfrow = c(3, 1))"
"0","color_in <- sample(colors(), length(unique(dt_train_ID$AggEcoregion)))"
"0","b <- barplot(table(dt_train_ID$AggEcoregion), "
"0","        col = color_in,"
"0","        main = ""Training"","
"0","        ylim = c(0, 1000))"
